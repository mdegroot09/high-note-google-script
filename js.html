<script>

window.addEventListener('load', load())

function load(){
  // Get user info
  google.script.run  
  // if successful, display the data 
  .withSuccessHandler(function(res){
    console.log(res.notes)
  })
  // if error
  .withFailureHandler(function(err){
    console.log("error occured", err);
  })
  .getNotes()
}

function auto_grow(e) {
  e.style.height = "17px";
  e.style.height = (e.scrollHeight)+"px";
  console.log(e.value)
  if (e.value){
    showSaveCancelBtns()
  } else {
    hideSaveCancelBtns()
  }
}

function showSaveCancelBtns(){
  document.getElementById('newSaveCancel').style.display = 'flex'
}

function hideSaveCancelBtns(){
  document.getElementById('newSaveCancel').style.display = 'none'
}

function saveNewNote(){
  let e = document.getElementById('newLabel')
  console.log(e.options[e.selectedIndex].text)
  let text = document.getElementById('newText').value
  console.log(text)
  e = document.getElementById('newType')
  console.log(e.options[e.selectedIndex].text)
  
  cancelNewNote()
}

function cancelNewNote(){
  document.getElementById('newLabel').value = 0
  document.getElementById('newText').value = ''
  document.getElementById('newText').style.height = '20px'
  document.getElementById('newType').value = 0
  
  hideSaveCancelBtns()
}

</script>